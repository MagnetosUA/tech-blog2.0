{% extends '@TechBlog/base.html.twig' %}

{% block navigations %}
    {{ knp_menu_render('main') }}
{% endblock navigations %}

{% block main_post %}
    <div class="jumbotron p-3 p-md-5 text-white rounded bg-dark">
        <div class="col-md-6 px-0">
            <h1 class="display-4 font-italic">{{ last_articles[0].title }}</h1>
            <p class="lead my-3">{{ last_articles[0].shortArticle }}</p>
            <p class="lead mb-0"><a href="{{ path('show_post', {slug: last_articles[0].slug}) }}" class="text-white font-weight-bold">Continue reading...</a></p>
        </div>
    </div>
{% endblock main_post %}

{% block popular_posts %}
    <div class="row mb-2">
        <div class="col-md-6">
            <div class="card flex-md-row mb-4 shadow-sm h-md-250">
                <div class="card-body d-flex flex-column align-items-start">
                    <strong class="d-inline-block mb-2 text-primary">{{ last_articles[1].category.title|capitalize }}</strong>
                    <h3 class="mb-0">
                        <a class="text-dark" href="{{ path('show_post', {slug: last_articles[1].slug}) }}">{{ last_articles[1].title }}</a>
                    </h3>
                    <div class="mb-1 text-muted">{{ last_articles[1].createdAt|date("M d") }}</div>
                    <p class="card-text mb-auto">{{ last_articles[1].shortArticle }}</p>
                    <a href="#">Continue reading</a>
                </div>
                <img class="card-img-right flex-auto d-none d-lg-block" data-src="holder.js/200x250?theme=thumb" alt="Card image cap">
            </div>
        </div>
        <div class="col-md-6">
            <div class="card flex-md-row mb-4 shadow-sm h-md-250">
                <div class="card-body d-flex flex-column align-items-start">
                    <strong class="d-inline-block mb-2 text-success">{{ last_articles[2].category.title|capitalize }}</strong>
                    <h3 class="mb-0">
                        <a class="text-dark" href="{{ path('show_post', {slug: last_articles[2].slug}) }}">{{ last_articles[2].title }}</a>
                    </h3>
                    <div class="mb-1 text-muted">{{ last_articles[2].createdAt|date("M d") }}</div>
                    <p class="card-text mb-auto">{{ last_articles[2].ShortArticle }}</p>
                    <a href="#">Continue reading</a>
                </div>
                <img class="card-img-right flex-auto d-none d-lg-block" data-src="holder.js/200x250?theme=thumb" alt="Card image cap">
            </div>
        </div>
    </div>
{% endblock popular_posts %}

{% block blog_post %}
    {% for post in posts %}
        <div class="blog-post">
            <h2 class="blog-post-title"><a href="{{ path('show_post', {slug: post.slug}) }}">{{ post.title }}</a></h2>
            <p class="blog-post-meta">{{ post.createdAt|date }} by <a href="#">{{ post.author.nickname }}</a></p>
            <p>{{ post.shortArticle }}</p>
        </div><!-- /.blog-post -->
    {% endfor %}
{% endblock blog_post %}

{% block pagination %}
    <nav class="blog-pagination">
        {{ knp_pagination_render(posts) }}
    </nav>
{% endblock pagination %}


{% block date_publications %}
    <div class="p-3">
        <h4 class="font-italic">Archives</h4>
        <ol class="list-unstyled mb-0">
            {% for date in first_date_publication %}
                <li><a href="#">{{ date.createdAt|date("M Y") }}</a></li>
            {% endfor %}
        </ol>
    </div>
{% endblock date_publications %}

{% block tags %}
    <div class="p-3">
        <h4 class="font-italic">Tags</h4>
        <ol class="list-unstyled">
            {% for tag in tags %}
                <li><a href="#">#{{ tag.name }}</a></li>
            {% endfor %}
        </ol>
    </div>
{% endblock tags %}